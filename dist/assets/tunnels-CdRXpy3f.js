import{S as Bo,P as Lo,W as vo,H as Go,l as Io,h as eo,M as so,G as Ho,B as ro,C,m as So,L as jo,k as Eo,F as ao,a as io,b as Wo,c as Fo,g as Oo,n as No}from"./three.module-B3sf-EN6.js";import{O as Ro}from"./OrbitControls-uK7BZfCK.js";let l,h,a;function To(){l=new Bo,h=new Lo(45,window.innerWidth/window.innerHeight,.1,2.5),a=new vo,a.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(a.domElement),new Ro(h,a.domElement);const w=new Go(16711680,255,.2);l.add(w),h.position.y=15,h.position.x=-.2;const D=new Io(1,1,1),H=new eo({color:65280}),S=new so(D,H),V=10,lo=10;new Ho(V,lo),console.log(h.position);const j=new ro,B=50,u=200,d={emerald:{shape:"lines",background:399890,fog:{color:399890,near:5,far:20},color:(o,t)=>[.2+.3*Math.sin(o),.8,.4],radius:o=>.5+.15*Math.sin(6*o)},fire:{shape:"dots",background:1705474,fog:{color:1705474,near:4,far:18},color:(o,t)=>[1,.4+.4*Math.sin(o*4),.1],radius:o=>.5+.25*Math.abs(Math.sin(o))},cosmic:{shape:"lines",background:327700,fog:{color:327700,near:6,far:25},color:(o,t)=>[.5+.5*Math.sin(o+t),.3,.8+.2*Math.cos(o*2)],radius:(o,t)=>.5+.1*Math.sin(3*t+o*2)},ribbed:{shape:"dots",background:327700,fog:{color:327700,near:6,far:25},color:o=>[o/(Math.PI*2),1,.5],radius:o=>.5+.2*Math.sin(12*o)},breathing:{shape:"lines",background:327700,fog:{color:327700,near:6,far:25},color:(o,t)=>[.5+.5*Math.cos(t),.3,.7],radius:(o,t)=>.5+.15*Math.sin(6*o+t*3)},crystalline:{shape:"dots",background:327700,fog:{color:327700,near:6,far:25},color:o=>[.2,.5+.5*Math.sin(o*8),.8],radius:o=>.4+.3*Math.sign(Math.sin(5*o))},spiral:{shape:"lines",background:327700,fog:{color:327700,near:6,far:25},color:o=>[o/(Math.PI*2),.5,1],radius:(o,t)=>.5+.15*Math.sin(o+t*4)}};for(const o in d){const t=d[o];t.shape,t.shape}console.log(Object.keys(d).length);const m=Object.keys(d),ho=m.length,fo=u/ho,E=new C,J=new C;l.background=E,l.fog=new So(J,5,20);function go(o){return o*o*(3-2*o)}function po(o){const t=m.length,i=o*t,e=Math.floor(i)%t,s=(e+1)%t,r=go(i%1),n=d[m[e]],c=d[m[s]],b=new C(n.background),x=new C(c.background);E.lerpColors(b,x,r);const y=new C(n.fog.color),G=new C(c.fog.color);J.lerpColors(y,G,r),l.fog.near=n.fog.near*(1-r)+c.fog.near*r,l.fog.far=n.fog.far*(1-r)+c.fog.far*r}const L=new Float32Array(B*u*3),v=new Float32Array(B*u*3);let f=0;const P={};for(const o of m)if(d[o].shape==="lines"){P[o]={positions:[],colors:[]};const t=new ro,i=new jo({vertexColors:!0}),e=new Eo(t,i);l.add(e),P[o].geo=t}for(let o=0;o<u;o++){const t=Math.floor(o/fo),i=m[t],e=d[i],s=o/u*Math.PI*2,r=Math.cos(s),n=(o+1)/u*Math.PI*2,c=3+.5*Math.sin(3*s)+.5*Math.cos(5*s),b=c*Math.sin(s),x=0,y=c*Math.cos(s),G=3+.5*Math.sin(3*n)+.5*Math.cos(5*n),yo=G*Math.sin(n),ko=0,zo=G*Math.cos(n);let g=yo-b,p=ko-x,M=zo-y;const O=Math.sqrt(g*g+p*p+M*M);g/=O,p/=O,M/=O;const K=0,Q=1,U=0;let k=p*U-M*Q,z=M*K-g*U,A=g*Q-p*K;const N=Math.sqrt(k*k+z*z+A*A);k/=N,z/=N,A/=N;let Ao=z*M-A*p,Co=A*g-k*M,Po=k*p-z*g;for(let R=0;R<B;R++){const I=R/B*Math.PI*2,$=e.radius(I,s),q=Math.cos(I),T=Math.sin(I),X=b+$*(q*Ao+T*k),Y=x+$*(q*Co+T*z),Z=y+$*(q*Po+T*A),[_,oo,to]=e.color(s,I);if(e.shape==="dots")L[f]=X,L[f+1]=Y+r,L[f+2]=Z,v[f]=_,v[f+1]=oo,v[f+2]=to,f+=3;else if(e.shape==="lines"){const no=P[i];no.positions.push(X,Y+r,Z),no.colors.push(_,oo,to)}}}for(const o in P){const t=P[o];t.geo.setAttribute("position",new ao(t.positions,3)),t.geo.setAttribute("color",new ao(t.colors,3))}j.setAttribute("position",new io(L,3)),j.setAttribute("color",new io(v,3));const Mo=new Wo({size:.05,vertexColors:!0,transparent:!0,opacity:.8}),wo=new Fo(j,Mo);l.add(wo);const uo=new Oo(60,32,32),mo=new eo({color:16777215,side:No}),W=new so(uo,mo);l.add(W);let F=0;const bo=.1;function xo(){const o=F/(Math.PI*2);po(o);const t=F,i=Math.cos(t),e=3+.5*Math.sin(3*t)+.5*Math.cos(5*t),s=e*Math.sin(t),r=e*Math.cos(t);h.position.set(s,0+i,r),S.position.set(s,0+i,r);const n=t+bo,c=3+.5*Math.sin(3*n)+.5*Math.cos(5*n),b=c*Math.sin(n),x=Math.cos(n),y=c*Math.cos(n);h.lookAt(b,x,y),a.render(l,h),F+=.001,W.material.color.copy(E),W.rotation.y+=1e-4}a.setAnimationLoop(xo),window.addEventListener("resize",co)}function Do(){var w;a&&(a.setAnimationLoop(null),a.dispose(),(w=a.domElement)==null||w.remove(),window.removeEventListener("resize",co))}function co(){h.aspect=window.innerWidth/window.innerHeight,h.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight)}window.onerror=function(w,D,H,S,V){alert(`Error: ${w} at ${H}:${S}`)};export{Do as dispose,To as init};
