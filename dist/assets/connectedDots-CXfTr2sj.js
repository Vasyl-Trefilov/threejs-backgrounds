import{S as $,C as q,P as D,W as I,B,a as h,b as V,c as J,L as K,d as N}from"./three.module-B3sf-EN6.js";let p,d,i;function Q(){p=new $,p.background=new q(327688),d=new D(45,window.innerWidth/window.innerHeight,.1,1e3),d.position.set(40,40,85),d.lookAt(40,40,1),i=new I({antialias:!0}),i.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(i.domElement);const n=500,l=new B,a=new Float32Array(n*3),s=new Float32Array(n*3);for(let e=0;e<n*3;e+=3){const o=Math.random()*80,m=Math.random()*80,t=Math.random()*80;a[e]=o,a[e+1]=m,a[e+2]=t,s[e]=o,s[e+1]=m,s[e+2]=t}l.setAttribute("position",new h(a,3));const y=new V({size:.1,color:16777215,transparent:!0,opacity:.8}),G=new J(l,y);p.add(G);const b=n*20,c=new B,r=new Float32Array(b*6),x=new Float32Array(b*6);c.setAttribute("position",new h(r,3)),c.setAttribute("color",new h(x,3));const H=new K({vertexColors:!0,transparent:!0,opacity:.4}),k=new N(c,H);p.add(k);let u=0;const f=.05,A=256;function R(){u+=.005;const e=l.attributes.position.array;for(let t=0;t<n*3;t+=3)e[t]=s[t]+Math.sin(u+t*.01)*f*10,e[t+1]=s[t+1]+Math.cos(u+t*.02)*f*5,e[t+2]=s[t+2]+Math.sin(u*.5+t*.03)*f*3;l.attributes.position.needsUpdate=!0;let o=0,m=0;for(let t=0;t<n;t++){const z=e[t*3],M=e[t*3+1],g=e[t*3+2];for(let w=t+1;w<n;w++){const C=e[w*3],L=e[w*3+1],S=e[w*3+2],P=z-C,v=M-L,W=g-S,j=P*P+v*v+W*W;if(j<A){r[o++]=z,r[o++]=M,r[o++]=g,r[o++]=C,r[o++]=L,r[o++]=S;const U=1-j/A;for(let E=0;E<6;E++)x[m++]=U}}}c.setDrawRange(0,o/3),c.attributes.position.needsUpdate=!0,c.attributes.color.needsUpdate=!0,i.render(p,d)}i.setAnimationLoop(R),window.addEventListener("resize",F)}function T(){var n;i&&(i.setAnimationLoop(null),i.dispose(),(n=i.domElement)==null||n.remove(),window.removeEventListener("resize",F))}function F(){d.aspect=window.innerWidth/window.innerHeight,d.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}window.onerror=function(n,l,a,s,y){alert(`Error: ${n} at ${a}:${s}`)};export{T as dispose,Q as init};
