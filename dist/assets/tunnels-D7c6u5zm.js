import{S as lo,P as ho,W as fo,H as go,l as Mo,h as _,M as $,G as po,B as oo,C as y,m as mo,L as uo,k as wo,F as Z,a as to,b as bo,c as xo,g as yo,n as ko}from"./three.module-B3sf-EN6.js";import{O as Ao}from"./OrbitControls-uK7BZfCK.js";const i=new lo,M=new ho(45,window.innerWidth/window.innerHeight,.1,2.5),P=new fo;P.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(P.domElement);new Ao(M,P.domElement);const Co=new go(16711680,255,.2);i.add(Co);M.position.y=15;M.position.x=-.2;const Po=new Mo(1,1,1),zo=new _({color:65280}),Bo=new $(Po,zo),Go=10,Io=10;new po(Go,Io);console.log(M.position);const q=new oo,L=50,k=200,l={emerald:{shape:"lines",background:399890,fog:{color:399890,near:5,far:20},color:(o,t)=>[.2+.3*Math.sin(o),.8,.4],radius:o=>.5+.15*Math.sin(6*o)},fire:{shape:"dots",background:1705474,fog:{color:1705474,near:4,far:18},color:(o,t)=>[1,.4+.4*Math.sin(o*4),.1],radius:o=>.5+.25*Math.abs(Math.sin(o))},cosmic:{shape:"lines",background:327700,fog:{color:327700,near:6,far:25},color:(o,t)=>[.5+.5*Math.sin(o+t),.3,.8+.2*Math.cos(o*2)],radius:(o,t)=>.5+.1*Math.sin(3*t+o*2)},ribbed:{shape:"dots",background:327700,fog:{color:327700,near:6,far:25},color:o=>[o/(Math.PI*2),1,.5],radius:o=>.5+.2*Math.sin(12*o)},breathing:{shape:"lines",background:327700,fog:{color:327700,near:6,far:25},color:(o,t)=>[.5+.5*Math.cos(t),.3,.7],radius:(o,t)=>.5+.15*Math.sin(6*o+t*3)},crystalline:{shape:"dots",background:327700,fog:{color:327700,near:6,far:25},color:o=>[.2,.5+.5*Math.sin(o*8),.8],radius:o=>.4+.3*Math.sign(Math.sin(5*o))},spiral:{shape:"lines",background:327700,fog:{color:327700,near:6,far:25},color:o=>[o/(Math.PI*2),.5,1],radius:(o,t)=>.5+.15*Math.sin(o+t*4)}};for(const o in l){const t=l[o];t.shape,t.shape}console.log(Object.keys(l).length);const A=Object.keys(l),Lo=A.length,So=k/Lo,E=new y,so=new y;i.background=E;i.fog=new mo(so,5,20);function jo(o){return o*o*(3-2*o)}function Fo(o){const t=A.length,c=o*t,n=Math.floor(c)%t,e=(n+1)%t,a=jo(c%1),s=l[A[n]],r=l[A[e]],p=new y(s.background),m=new y(r.background);E.lerpColors(p,m,a);const u=new y(s.fog.color),z=new y(r.fog.color);so.lerpColors(u,z,a),i.fog.near=s.fog.near*(1-a)+r.fog.near*a,i.fog.far=s.fog.far*(1-a)+r.fog.far*a}const G=new Float32Array(L*k*3),I=new Float32Array(L*k*3);let g=0;const C={};for(const o of A)if(l[o].shape==="lines"){C[o]={positions:[],colors:[]};const t=new oo,c=new uo({vertexColors:!0}),n=new wo(t,c);i.add(n),C[o].geo=t}for(let o=0;o<k;o++){const t=Math.floor(o/So),c=A[t],n=l[c],e=o/k*Math.PI*2,a=Math.cos(e),s=(o+1)/k*Math.PI*2,r=3+.5*Math.sin(3*e)+.5*Math.cos(5*e),p=r*Math.sin(e),m=0,u=r*Math.cos(e),z=3+.5*Math.sin(3*s)+.5*Math.cos(5*s),no=z*Math.sin(s),eo=0,ao=z*Math.cos(s);let h=no-p,f=eo-m,d=ao-u;const S=Math.sqrt(h*h+f*f+d*d);h/=S,f/=S,d/=S;const R=0,T=1,D=0;let w=f*D-d*T,b=d*R-h*D,x=h*T-f*R;const j=Math.sqrt(w*w+b*b+x*x);w/=j,b/=j,x/=j;let co=b*d-x*f,ro=x*h-w*d,io=w*f-b*h;for(let F=0;F<L;F++){const B=F/L*Math.PI*2,H=n.radius(B,e),O=Math.cos(B),v=Math.sin(B),V=p+H*(O*co+v*w),J=m+H*(O*ro+v*b),K=u+H*(O*io+v*x),[Q,U,X]=n.color(e,B);if(n.shape==="dots")G[g]=V,G[g+1]=J+a,G[g+2]=K,I[g]=Q,I[g+1]=U,I[g+2]=X,g+=3;else if(n.shape==="lines"){const Y=C[c];Y.positions.push(V,J+a,K),Y.colors.push(Q,U,X)}}}for(const o in C){const t=C[o];t.geo.setAttribute("position",new Z(t.positions,3)),t.geo.setAttribute("color",new Z(t.colors,3))}q.setAttribute("position",new to(G,3));q.setAttribute("color",new to(I,3));const Ho=new bo({size:.05,vertexColors:!0,transparent:!0,opacity:.8}),Oo=new xo(q,Ho);i.add(Oo);const vo=new yo(60,32,32),Wo=new _({color:16777215,side:ko}),N=new $(vo,Wo);i.add(N);let W=0;const No=.1;function qo(){const o=W/(Math.PI*2);Fo(o);const t=W,c=Math.cos(t),n=3+.5*Math.sin(3*t)+.5*Math.cos(5*t),e=n*Math.sin(t),a=n*Math.cos(t);M.position.set(e,0+c,a),Bo.position.set(e,0+c,a);const s=t+No,r=3+.5*Math.sin(3*s)+.5*Math.cos(5*s),p=r*Math.sin(s),m=Math.cos(s),u=r*Math.cos(s);M.lookAt(p,m,u),P.render(i,M),W+=.001,N.material.color.copy(E),N.rotation.y+=1e-4}P.setAnimationLoop(qo);
