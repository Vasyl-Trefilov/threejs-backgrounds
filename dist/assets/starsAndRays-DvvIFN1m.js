import{S as P,C as L,P as F,W as O,H as j,g as k,h as I,M as _,i as u,B as $,F as D,j as M,L as U,k as V}from"./three.module-B3sf-EN6.js";import{O as Y}from"./OrbitControls-uK7BZfCK.js";let t,o,e;function J(){t=new P,t.background=new L(327688),o=new F(75,window.innerWidth/window.innerHeight,.1,1e3),o.position.y=5,e=new O({antialias:!0}),e.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(e.domElement);const n=new Y(o,e.domElement);n.enableDamping=!0;const h=new j(16751103,17,2);t.add(h);const l=new k(.6,32,32),w=new I({color:16777215}),m=new _(l,w);t.add(m);const b=new u(0,0,0),z=150,a=200,c=.08,C=.02,H=.5;function x(){const i=[];let p=1/0;const r=new u(0,0,-1);let s=new u((Math.random()-.5)*(a*c),(Math.random()-.5)*(a*c),a*c/2);for(let y=0;y<a;y++){const f=b.clone().sub(s),d=f.length()+1e-4;p=Math.min(p,d);const W=r.clone().multiplyScalar(f.dot(r)),A=f.sub(W),B=C/(d*d+H);if(r.add(A.normalize().multiplyScalar(B)),r.normalize(),s.add(r.clone().multiplyScalar(c)),i.push(s.x,s.y,s.z),d<.6)break}const E=new $;E.setAttribute("position",new D(i,3));const v=M.clamp((p-.6)/4,0,1),G=new L().setHSL(M.lerp(.08,0,1-v),1,.5),N=new U({color:G,transparent:!0,opacity:.8}),R=new V(E,N);t.add(R)}for(let i=0;i<z;i++)x();let S=0;function T(){S+=.01,m.scale.setScalar(1+.08*Math.sin(S*3)),t.rotation.y+=8e-4,n.update(),e.render(t,o)}e.setAnimationLoop(T),window.addEventListener("resize",g)}function K(){var n;e&&(e.setAnimationLoop(null),e.dispose(),(n=e.domElement)==null||n.remove(),window.removeEventListener("resize",g))}function g(){o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix(),e.setSize(window.innerWidth,window.innerHeight)}window.onerror=function(n,h,l,w,m){alert(`Error: ${n} at ${l}:${w}`)};export{K as dispose,J as init};
